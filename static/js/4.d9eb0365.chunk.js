(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{267:function(e,s,a){"use strict";s.a=a.p+"static/media/userIcon.77e62bce.png"},270:function(e,s,a){e.exports={users:"Users_users__3owS2",users__row:"Users_users__row__AgI0d",users__wide:"Users_users__wide__dtQym",users__narrow:"Users_users__narrow__6j9rR",users__title:"Users_users__title__2D5iZ",users__menu:"Users_users__menu__31-0O",menuUsers__row:"Users_menuUsers__row__Ztvi7",menuUsers__title:"Users_menuUsers__title__1Y3Ls",menuUsers__button:"Users_menuUsers__button__1iPNP",requestUsers__item:"Users_requestUsers__item__M6AX5",itemUsers__row:"Users_itemUsers__row__20z76",itemUsers__image:"Users_itemUsers__image__1hc5R",itemUsers__body:"Users_itemUsers__body__3VY2f",bodyUsers__name:"Users_bodyUsers__name__3Rgfu",bodyUsers__navigation:"Users_bodyUsers__navigation__1cOv9",navigationUsers__row:"Users_navigationUsers__row__3PUav",navigationUsers__message:"Users_navigationUsers__message__3Sdb5",navigationUsers__subscribe:"Users_navigationUsers__subscribe__YWG9u",requestUsers__line:"Users_requestUsers__line__3jv6z",login__warning:"Users_login__warning__hyNoA",preloader__usersWrapper:"Users_preloader__usersWrapper__1nF3g",preloader__usersBlock:"Users_preloader__usersBlock__1p_FH"}},276:function(e,s,a){e.exports={paginationClassic:"Paginator_paginationClassic__Y3x1U",paginationClassic__buttonLeft:"Paginator_paginationClassic__buttonLeft__3ieFq",paginationClassic__buttonAble:"Paginator_paginationClassic__buttonAble__2iL_1",paginationClassic__buttonDisAble:"Paginator_paginationClassic__buttonDisAble__O9HZu",paginationClassic__buttonRight:"Paginator_paginationClassic__buttonRight__LlYbg",paginationClassic__content:"Paginator_paginationClassic__content__WTmMv",paginationClassic__row:"Paginator_paginationClassic__row__UFxw_"}},277:function(e,s,a){e.exports={users__searchTitle:"UsersSearch_users__searchTitle__290yp",users__searchForm:"UsersSearch_users__searchForm__1bZI1",users__searchForm__row:"UsersSearch_users__searchForm__row__2bJBS",searchForm__icon:"UsersSearch_searchForm__icon__2LOKa",searchForm__form:"UsersSearch_searchForm__form__33pCS",searchForm__search:"UsersSearch_searchForm__search__9Kolu",users__searchItems:"UsersSearch_users__searchItems__2SzLg",users__searchItem:"UsersSearch_users__searchItem__tvQPX",users__searchItem__row:"UsersSearch_users__searchItem__row__2noZt",searchItem__photo:"UsersSearch_searchItem__photo__2pHy_",searchItem__name:"UsersSearch_searchItem__name__Dfshs",preloader__usersWrapper:"UsersSearch_preloader__usersWrapper__1czih",preloader__usersBlock:"UsersSearch_preloader__usersBlock__3vGnU"}},287:function(e,s,a){"use strict";a.r(s);var r=a(0),t=a(26),_=a(31),c=a(1),n=a(270),o=a.n(n),i=a(15),l=a(99),u=a(98),d=a(276),j=a.n(d),m=a(33),b=a(34),h=function(e){for(var s=e.totalCount,a=e.countFollowed,_=e.pageFollowed,n=e.onPageChange,o=Object(c.useState)(1),i=Object(t.a)(o,2),l=i[0],u=i[1],d=Math.ceil(s/a),h=[],g=1;g<=d;g++)h.push(g);var U=Math.ceil(d/1),p=1*(l-1)+1,O=1*l;return h=h.filter((function(e){return e>=p&&e<=O})),Object(r.jsx)("div",{className:j.a.paginationClassic,children:Object(r.jsxs)("div",{className:j.a.paginationClassic__row,children:[Object(r.jsx)("div",{className:j.a.paginationClassic__buttonLeft,children:l>1?Object(r.jsx)(m.a,{className:j.a.paginationClassic__buttonAble,icon:b.c,onClick:function(){u(l-1),n(_-=1)}}):Object(r.jsx)(m.a,{className:j.a.paginationClassic__buttonDisAble,icon:b.c})}),Object(r.jsx)("div",{className:j.a.paginationClassic__content,children:h}),Object(r.jsx)("div",{className:j.a.paginationClassic__buttonRight,children:l<U?Object(r.jsx)(m.a,{className:j.a.paginationClassic__buttonAble,icon:b.d,onClick:function(){u(l+1),n(_+=1)}}):Object(r.jsx)(m.a,{className:j.a.paginationClassic__buttonDisAble,icon:b.d})})]})})},g=a(22),U=a(267),p=a(277),O=a.n(p),w=a(284),x=a(281),f=a(57),v=function(e){var s=e.isUserSelected,a=e.getUsersSelectTC,_=e.usersUnfollowed,n=Object(c.useState)(!1),o=Object(t.a)(n,2),i=o[0],l=o[1],u=Object(c.useCallback)(Object(x.debounce)((function(e){return a(10,1,!1,e)}),1e3),[]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:O.a.users__searchTitle,children:"Find friends"}),Object(r.jsx)("div",{className:O.a.users__searchForm,children:Object(r.jsxs)("div",{className:O.a.users__searchForm__row,children:[Object(r.jsx)("div",{className:O.a.searchForm__icon,children:Object(r.jsx)(m.a,{icon:b.h})}),Object(r.jsx)("div",{className:O.a.searchForm__form,children:Object(r.jsx)(w.c,{initialValues:{name:""},onSubmit:function(){},children:function(e){var s=e.handleChange,a=e.handleSubmit;return Object(r.jsx)(w.b,{onSubmit:a,children:Object(r.jsx)(w.a,{className:O.a.searchForm__search,type:"text",name:"name",onChange:function(e){!function(e){var s=e.target.value;u(s),l(!0)}(e),s(e)},placeholder:"Enter your request"})})}})})]})}),Object(r.jsx)("div",{className:O.a.users__searchItems,children:s?Object(r.jsx)(r.Fragment,{children:_.length>0?_.map((function(e){return Object(r.jsx)("div",{className:O.a.users__searchItem,children:Object(r.jsxs)("div",{className:O.a.users__searchItem__row,children:[Object(r.jsx)(g.b,{className:O.a.searchItem__photo,to:"/profile/".concat(e.id),children:Object(r.jsx)("img",{src:e.photos.small?e.photos.small:U.a,alt:""})}),Object(r.jsx)(g.b,{className:O.a.searchItem__name,to:"/profile/".concat(e.id),children:e.name})]})})})):Object(r.jsx)("div",{className:O.a.users__error,children:"Not found"})}):Object(r.jsx)(r.Fragment,{children:i&&Object(r.jsx)("div",{className:O.a.preloader__usersWrapper,children:Object(r.jsx)("div",{className:O.a.preloader__usersBlock,children:Object(r.jsx)(f.a,{})})})})})]})},C=function(e){var s=e.isAuth,a=e.usersFollowed,t=e.readyToggle,c=e.unfollowUserTC,n=Object(_.a)(e,["isAuth","usersFollowed","readyToggle","unfollowUserTC"]);return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{className:o.a.users,children:Object(r.jsxs)("div",{className:o.a.users__row,children:[Object(r.jsxs)("div",{className:o.a.users__wide,children:[Object(r.jsx)("div",{className:o.a.users__title,children:"Users"}),Object(r.jsx)("div",{className:o.a.users__menu,children:Object(r.jsxs)("div",{className:o.a.menuUsers__row,children:[Object(r.jsx)("div",{className:o.a.menuUsers__title,children:"My requests"}),Object(r.jsx)(g.b,{className:o.a.menuUsers__button,to:"/users/all",children:"Find more"})]})}),s?Object(r.jsxs)("div",{className:o.a.users__request,children:[a.map((function(e){return e.followed&&Object(r.jsxs)("div",{className:o.a.requestUsers__item,children:[Object(r.jsxs)("div",{className:o.a.itemUsers__row,children:[Object(r.jsx)(g.b,{className:o.a.itemUsers__image,to:"/profile/".concat(e.id),children:e.photos.small?Object(r.jsx)("img",{src:e.photos.small}):Object(r.jsx)("img",{src:U.a})}),Object(r.jsxs)("div",{className:o.a.itemUsers__body,children:[Object(r.jsx)(g.b,{className:o.a.bodyUsers__name,to:"/profile/".concat(e.id),children:e.name}),Object(r.jsx)("div",{className:o.a.bodyUsers__navigation,children:Object(r.jsxs)("div",{className:o.a.navigationUsers__row,children:[Object(r.jsx)(g.b,{className:o.a.navigationUsers__message,to:"/messages",children:"Write a message"}),Object(r.jsx)("div",{className:o.a.navigationUsers__subscribe,children:Object(r.jsx)("button",{disabled:t.some((function(s){return s===e.id})),onClick:function(s){c(e.id)},children:Object(r.jsx)(m.a,{icon:b.k})})})]})})]})]}),Object(r.jsx)("div",{className:o.a.requestUsers__line})]},e.id)})),Object(r.jsx)(h,{pageFollowed:n.pageFollowed,countFollowed:n.countFollowed,totalCount:n.totalCount,onPageChange:n.onPageChange})]}):Object(r.jsx)("div",{className:o.a.login__warning,children:"To view this page, you need to go to the site."})]}),Object(r.jsx)("div",{className:o.a.users__narrow,children:Object(r.jsx)(v,{isUserSelected:n.isUserSelected,getUsersSelectTC:n.getUsersSelectTC,usersUnfollowed:n.usersUnfollowed})})]})})})};s.default=Object(i.b)((function(e){return{countFollowed:e.users.countFollowed,pageFollowed:e.users.pageFollowed,totalCount:e.users.totalCount,usersFollowed:e.users.usersFollowed,isReadyPage:e.users.isReadyPage,readyToggle:e.users.readyToggle,isAuth:e.auth.isAuth,usersUnfollowed:e.users.usersUnfollowed,isUserSelected:e.users.isUserSelected}}),(function(e){return{getUsersSelectTC:function(s,a,r,t){e(Object(l.e)(s,a,r,t))},getUsersFollowedTC:function(s,a,r,t){e(Object(l.d)(s,a,r,t))},unfollowUserTC:function(s){e(Object(l.h)(s))},getOnceUnfollowedTC:function(){e(Object(l.c)())}}}))((function(e){var s=e.getOnceUnfollowedTC,a=e.countFollowed,n=e.isReadyPage,i=e.getUsersFollowedTC,l=Object(_.a)(e,["getOnceUnfollowedTC","countFollowed","isReadyPage","getUsersFollowedTC"]),d=Object(c.useState)(!1),j=Object(t.a)(d,2),m=j[0],b=j[1];Object(c.useEffect)((function(){m||(s(),b(!0))}),[]),Object(c.useEffect)((function(){i(a,1,!0,"")}),[]);return Object(r.jsx)(r.Fragment,{children:n?Object(r.jsx)(C,{isUserSelected:l.isUserSelected,getUsersSelectTC:l.getUsersSelectTC,isAuth:l.isAuth,usersUnfollowed:l.usersUnfollowed,pageFollowed:l.pageFollowed,usersFollowed:l.usersFollowed,countFollowed:a,totalCount:l.totalCount,onPageChange:function(e){i(a,e,!0,"")},unfollowUserTC:l.unfollowUserTC,readyToggle:l.readyToggle}):Object(r.jsx)("div",{className:o.a.preloader__usersWrapper,children:Object(r.jsx)("div",{className:o.a.preloader__usersBlock,children:Object(r.jsx)(u.a,{})})})})}))}}]);
//# sourceMappingURL=4.d9eb0365.chunk.js.map