{"version":3,"sources":["assets/images/userIcon.png","components/Users/Users.module.css","components/Common/Paginator/Paginator.module.css","components/Common/Paginator/Paginator.jsx","components/Users/Users.jsx"],"names":["module","exports","Paginator","props","pagesCount","Math","ceil","totalCount","countFollowed","pages","i","push","portionsCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionNumber","filter","el","className","s","paginationClassic","paginationClassic__row","paginationClassic__buttonLeft","paginationClassic__buttonAble","icon","faChevronLeft","onClick","pageFollowed","onPageChange","paginationClassic__buttonDisAble","paginationClassic__content","paginationClassic__buttonRight","faChevronRight","Users","users","users__title","users__menu","menuUsers__row","menuUsers__title","menuUsers__button","to","isAuth","users__request","usersFollowed","map","user","followed","requestUsers__item","itemUsers__row","itemUsers__image","id","photos","small","src","userIcon","itemUsers__body","bodyUsers__name","name","bodyUsers__navigation","navigationUsers__row","navigationUsers__message","navigationUsers__subscribe","disabled","isReadyToggle","some","userId","e","unfollowUserTC","faUserMinus","requestUsers__line","page","login__warning","connect","state","isReadyPage","auth","dispatch","getUsersFollowedTC","count","follower","useEffect","isFollowed","followUserTC","preloader__usersWrapper","preloader__usersBlock","PreloaderLine"],"mappings":"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","file":"static/js/4.41b53b85.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/userIcon.77e62bce.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__3owS2\",\"users__title\":\"Users_users__title__2D5iZ\",\"users__menu\":\"Users_users__menu__31-0O\",\"menuUsers__row\":\"Users_menuUsers__row__Ztvi7\",\"menuUsers__title\":\"Users_menuUsers__title__1Y3Ls\",\"menuUsers__button\":\"Users_menuUsers__button__1iPNP\",\"requestUsers__item\":\"Users_requestUsers__item__M6AX5\",\"itemUsers__row\":\"Users_itemUsers__row__20z76\",\"itemUsers__image\":\"Users_itemUsers__image__1hc5R\",\"itemUsers__body\":\"Users_itemUsers__body__3VY2f\",\"bodyUsers__name\":\"Users_bodyUsers__name__3Rgfu\",\"bodyUsers__navigation\":\"Users_bodyUsers__navigation__1cOv9\",\"navigationUsers__row\":\"Users_navigationUsers__row__3PUav\",\"navigationUsers__message\":\"Users_navigationUsers__message__3Sdb5\",\"navigationUsers__subscribe\":\"Users_navigationUsers__subscribe__YWG9u\",\"requestUsers__line\":\"Users_requestUsers__line__3jv6z\",\"login__warning\":\"Users_login__warning__hyNoA\",\"preloader__usersWrapper\":\"Users_preloader__usersWrapper__1nF3g\",\"preloader__usersBlock\":\"Users_preloader__usersBlock__1p_FH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginationClassic\":\"Paginator_paginationClassic__Y3x1U\",\"paginationClassic__buttonLeft\":\"Paginator_paginationClassic__buttonLeft__3ieFq\",\"paginationClassic__buttonAble\":\"Paginator_paginationClassic__buttonAble__2iL_1\",\"paginationClassic__buttonDisAble\":\"Paginator_paginationClassic__buttonDisAble__O9HZu\",\"paginationClassic__buttonRight\":\"Paginator_paginationClassic__buttonRight__LlYbg\",\"paginationClassic__content\":\"Paginator_paginationClassic__content__WTmMv\",\"paginationClassic__row\":\"Paginator_paginationClassic__row__UFxw_\"};","import React, { useState } from 'react'\r\nimport s from './Paginator.module.css'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faChevronLeft, faChevronRight } from '@fortawesome/free-solid-svg-icons'\r\n\r\nconst Paginator = (props) => {\r\n   let pagesCount = Math.ceil(props.totalCount / props.countFollowed)\r\n   let pages = []\r\n   for (let i = 1; i <= pagesCount; i++) {\r\n      pages.push(i)\r\n   }\r\n   let portionSize = 1\r\n   let portionsCount = Math.ceil(pagesCount / portionSize)\r\n   let [portionNumber, setPortionNumber] = useState(1)\r\n   let leftPortionPageNumber = ((portionNumber - 1) * portionSize) + 1\r\n   let rightPortionNumber = portionNumber * portionSize\r\n   pages = pages\r\n      .filter((el) => {\r\n         return el >= leftPortionPageNumber && el <= rightPortionNumber\r\n      })\r\n   return (\r\n      <div className={s.paginationClassic}>\r\n         <div className={s.paginationClassic__row}>\r\n            <div className={s.paginationClassic__buttonLeft}>\r\n               {portionNumber > 1\r\n                  ? <FontAwesomeIcon className={s.paginationClassic__buttonAble} icon={faChevronLeft} onClick={() => { setPortionNumber(portionNumber - 1); let pageFollowed = props.pageFollowed - 1; props.onPageChange(pageFollowed) }} />\r\n                  : <FontAwesomeIcon className={s.paginationClassic__buttonDisAble} icon={faChevronLeft} />\r\n               }\r\n            </div>\r\n            <div className={s.paginationClassic__content}>{pages}</div>\r\n            <div className={s.paginationClassic__buttonRight}>\r\n               {portionNumber < portionsCount\r\n                  ? <FontAwesomeIcon className={s.paginationClassic__buttonAble} icon={faChevronRight} onClick={() => { setPortionNumber(portionNumber + 1); let pageFollowed = props.pageFollowed + 1; props.onPageChange(pageFollowed) }} />\r\n                  : <FontAwesomeIcon className={s.paginationClassic__buttonDisAble} icon={faChevronRight} />\r\n               }\r\n            </div>\r\n         </div>\r\n      </div >\r\n\r\n   )\r\n}\r\nexport default Paginator","import React, { useEffect } from 'react'\r\nimport s from './Users.module.css'\r\nimport { connect } from 'react-redux'\r\nimport { getUsersFollowedTC, unfollowUserTC } from '../../redux/users.reducer'\r\nimport PreloaderLine from '../Common/Preloader/PreloaderLine/PreloaderLine'\r\nimport Paginator from '../Common/Paginator/Paginator'\r\nimport { NavLink } from 'react-router-dom'\r\nimport userIcon from '../../assets/images/userIcon.png'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faUserMinus } from '@fortawesome/free-solid-svg-icons'\r\n\r\n\r\nexport const Users = (props) => {\r\n   return (\r\n      <>\r\n         <div className={s.users}>\r\n            <div className={s.users__title}>\r\n               Users\r\n            </div>\r\n            <div className={s.users__menu}>\r\n               <div className={s.menuUsers__row}>\r\n                  <div className={s.menuUsers__title}>\r\n                     My requests\r\n                  </div>\r\n                  <NavLink className={s.menuUsers__button} to={'/users/all'}>Find more</NavLink>\r\n               </div>\r\n            </div>\r\n            {props.isAuth\r\n               ? < div className={s.users__request}>\r\n                  {props.usersFollowed.map((user) => {\r\n                     return (\r\n                        user.followed &&\r\n                        <div className={s.requestUsers__item} key={user.id}>\r\n                           <div className={s.itemUsers__row}>\r\n                              <NavLink className={s.itemUsers__image} to={`/profile/${user.id}`}>\r\n                                 {!user.photos.small\r\n                                    ? <img src={userIcon} />\r\n                                    : <img src={user.photos.small} />\r\n                                 }\r\n                              </NavLink>\r\n                              <div className={s.itemUsers__body}>\r\n                                 <NavLink className={s.bodyUsers__name} to={`/profile/${user.id}`}>{user.name}</NavLink>\r\n                                 <div className={s.bodyUsers__navigation}>\r\n                                    <div className={s.navigationUsers__row}>\r\n                                       <NavLink className={s.navigationUsers__message} to={'/messages'}>Write a message</NavLink>\r\n                                       <div className={s.navigationUsers__subscribe}>\r\n                                          <button disabled={props.isReadyToggle.some((userId) => userId === user.id)} onClick={(e) => { props.unfollowUserTC(user.id) }}><FontAwesomeIcon icon={faUserMinus} /></button>\r\n                                       </div>\r\n                                    </div>\r\n                                 </div>\r\n                              </div>\r\n                           </div>\r\n                           <div className={s.requestUsers__line}></div>\r\n                        </div>\r\n                     )\r\n                  })}\r\n                  <Paginator pageFollowed={props.pageFollowed} countFollowed={props.countFollowed} totalCount={props.totalCount} onPageChange={props.onPageChange} page={props.page} />\r\n               </div>\r\n               : <div className={s.login__warning}>\r\n                  To view this page, you need to go to the site.\r\n               </div>\r\n            }\r\n         </div>\r\n      </>\r\n   )\r\n}\r\nconst UsersContainer = (props) => {\r\n   useEffect(() => {\r\n      let [page, count] = [1, props.countFollowed]\r\n      props.getUsersFollowedTC(count, page, true)\r\n   }, [props.isFollowed])\r\n   let onPageChange = (pageFollowed) => {\r\n      let count = props.countFollowed\r\n      props.getUsersFollowedTC(count, pageFollowed, true)\r\n   }\r\n   return (\r\n      <>\r\n         {props.isReadyPage\r\n            ? <Users isAuth={props.isAuth} pageFollowed={props.pageFollowed} usersFollowed={props.usersFollowed} countFollowed={props.countFollowed} totalCount={props.totalCount} onPageChange={onPageChange} page={props.page} unfollowUserTC={props.unfollowUserTC} followUserTC={props.followUserTC} isReadyToggle={props.isReadyToggle} />\r\n            : <div className={s.preloader__usersWrapper}>\r\n               <div className={s.preloader__usersBlock}>\r\n                  <PreloaderLine />\r\n               </div>\r\n            </div >\r\n         }\r\n      </>\r\n   )\r\n}\r\nconst mapStateToProps = (state) => {\r\n   return {\r\n      countFollowed: state.users.countFollowed,\r\n      pageFollowed: state.users.pageFollowed,\r\n      totalCount: state.users.totalCount,\r\n      usersFollowed: state.users.usersFollowed,\r\n      isReadyPage: state.users.isReadyPage,\r\n      isReadyToggle: state.users.isReadyToggle,\r\n      isAuth: state.auth.isAuth\r\n   }\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n   return {\r\n      getUsersFollowedTC: (count, pageFollowed, follower) => { dispatch(getUsersFollowedTC(count, pageFollowed, follower)) },\r\n      unfollowUserTC: (userId) => { dispatch(unfollowUserTC(userId)) }\r\n   }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UsersContainer)"],"sourceRoot":""}