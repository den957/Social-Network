{"version":3,"sources":["assets/images/userIcon.png","components/Users/UsersAll/UsersAll.module.css","components/Users/UsersAll/UsersAll.tsx","components/Users/UsersAll/UsersAllContainer.tsx"],"names":["module","exports","UsersAll","usersUnfollowed","isAuth","readyToggle","followUserTC","className","s","usersAll","usersAll__title","usersAll__body","bodyUsersAll__row","map","user","bodyUsersAll__item","bodyUsersAll__image","to","id","photos","small","src","userIcon","bodyUsersAll__body","cn","bodyUsersAll","bodyUsersAll__name","name","bodyUsersAll__subscribe","followed","bodyUsersAll__abled","disabled","some","userId","onClick","e","icon","faUserPlus","bodyUsersAll__disabled","preloader__UsersAllWrapper","preloader__UsersAllBlock","PreloaderLine","connect","state","users","countUnfollowed","pageUnfollowed","isFetching","auth","dispatch","getUsersUnfollowedTC","count","follower","isFetchingUsers","bool","getOnceUnfollowedTC","props","useState","isFetchingOnce","setIsFetchingOnce","page","useEffect","document","addEventListener","scrollHandler","removeEventListener","target","documentElement","scrollHeight","scrollTop","window","innerHeight","preloader__UsersAllContainerWrapper","preloader__UsersAllContainerBlock","Preloader"],"mappings":"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","file":"static/js/6.6170973e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/userIcon.77e62bce.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersAll\":\"UsersAll_usersAll__E1d6c\",\"usersAll__title\":\"UsersAll_usersAll__title__1g9lh\",\"usersAll__body\":\"UsersAll_usersAll__body__-knly\",\"bodyUsersAll__row\":\"UsersAll_bodyUsersAll__row__2--uN\",\"bodyUsersAll__item\":\"UsersAll_bodyUsersAll__item__2A7hu\",\"bodyUsersAll__image\":\"UsersAll_bodyUsersAll__image__UuDPB\",\"bodyUsersAll__body\":\"UsersAll_bodyUsersAll__body__xd9A2\",\"bodyUsersAll__name\":\"UsersAll_bodyUsersAll__name___g501\",\"bodyUsersAll__subscribe\":\"UsersAll_bodyUsersAll__subscribe__3wyXB\",\"bodyUsersAll__abled\":\"UsersAll_bodyUsersAll__abled__2EQGZ\",\"bodyUsersAll__disabled\":\"UsersAll_bodyUsersAll__disabled__1aUNk\",\"preloader__UsersAllWrapper\":\"UsersAll_preloader__UsersAllWrapper__F6b4t\",\"preloader__UsersAllBlock\":\"UsersAll_preloader__UsersAllBlock__7akbe\",\"preloader__UsersAllContainerWrapper\":\"UsersAll_preloader__UsersAllContainerWrapper__3jYKi\",\"preloader__UsersAllContainerBlock\":\"UsersAll_preloader__UsersAllContainerBlock__1e1nx\"};","import React from 'react'\r\nimport s from './UsersAll.module.css'\r\nimport cn from 'classnames'\r\nimport userIcon from '../../../assets/images/userIcon.png'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faUserPlus } from '@fortawesome/free-solid-svg-icons'\r\nimport { NavLink } from 'react-router-dom'\r\nimport PreloaderLine from '../../Common/Preloader/PreloaderLine/PreloaderLine'\r\nimport { UsersType } from '../../../types/types'\r\n\r\ntype PropsType = {\r\n   isAuth: boolean,\r\n   usersUnfollowed: Array<UsersType>,\r\n   readyToggle: Array<number>,\r\n   followUserTC: (userId: number) => void,\r\n}\r\nexport const UsersAll: React.FC<PropsType> = ({ usersUnfollowed, isAuth, readyToggle, followUserTC }) => {\r\n   return (\r\n      <div className={s.usersAll}>\r\n         <div className={s.usersAll__title}>\r\n            Find friends\r\n         </div>\r\n         <div className={s.usersAll__body}>\r\n            <div className={s.bodyUsersAll__row}>\r\n               {usersUnfollowed.map((user) => {\r\n                  return (\r\n                     <div className={s.bodyUsersAll__item} key={user.id}>\r\n                        <NavLink className={s.bodyUsersAll__image} to={`/profile/${user.id}`}>\r\n                           {user.photos.small\r\n                              ? <img src={user.photos.small} />\r\n                              : <img src={userIcon} />\r\n                           }\r\n                        </NavLink>\r\n                        <div className={s.bodyUsersAll__body}>\r\n                           <div className={cn(s.bodyUsersAll__row, s.bodyUsersAll)}>\r\n                              <NavLink className={s.bodyUsersAll__name} to={`/profile/${user.id}`}>\r\n                                 <span>{user.name}</span>\r\n                              </NavLink>\r\n                              <div className={s.bodyUsersAll__subscribe}>\r\n                                 {!user.followed && isAuth\r\n                                    ? <button className={s.bodyUsersAll__abled} disabled={readyToggle.some((userId) => userId === user.id)} onClick={(e) => { followUserTC(user.id) }}><FontAwesomeIcon icon={faUserPlus} /></button>\r\n                                    : <button className={s.bodyUsersAll__disabled} disabled={true}><FontAwesomeIcon icon={faUserPlus} /></button>\r\n                                 }\r\n                              </div>\r\n                           </div>\r\n                        </div>\r\n                     </div>\r\n                  )\r\n               })\r\n               }\r\n               {\r\n                  function () {\r\n                     return (\r\n                        <div className={s.preloader__UsersAllWrapper}>\r\n                           <div className={s.preloader__UsersAllBlock}>\r\n                              <PreloaderLine />\r\n                           </div>\r\n                        </div >\r\n                     )\r\n                  }()\r\n               }\r\n            </div>\r\n         </div>\r\n      </div>\r\n   )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport s from './UsersAll.module.css'\r\nimport { connect } from 'react-redux'\r\nimport { followUserTC, getOnceUnfollowedTC, getUsersUnfollowedTC, isFetchingUsers } from '../../../redux/users.reducer'\r\nimport Preloader from '../../Common/Preloader/Preloader'\r\nimport { UsersType } from '../../../types/types'\r\nimport { AppReducerType } from '../../../redux/store'\r\nimport { UsersAll } from './UsersAll'\r\n\r\ntype MapStateToPropsType = {\r\n   isAuth: boolean,\r\n   readyToggle: Array<number>,\r\n   usersUnfollowed: Array<UsersType>,\r\n   countUnfollowed: number,\r\n   pageUnfollowed: number,\r\n   isFetching: boolean,\r\n}\r\ntype MapDispatchToPropsType = {\r\n   followUserTC: (userId: number) => void,\r\n   getUsersUnfollowedTC: (count: number, page: number, boolean: boolean) => void,\r\n   getOnceUnfollowedTC: () => void,\r\n   isFetchingUsers: (bool: boolean) => void,\r\n}\r\ntype PropsType = MapStateToPropsType & MapDispatchToPropsType\r\n\r\nconst UserAllContainer: React.FC<PropsType> = ({ isFetchingUsers, pageUnfollowed, isFetching, countUnfollowed, getOnceUnfollowedTC, getUsersUnfollowedTC, ...props }) => {\r\n   const [isFetchingOnce, setIsFetchingOnce] = useState(false)\r\n   let [page, count] = [pageUnfollowed, countUnfollowed]\r\n   useEffect(() => {\r\n      if (!isFetchingOnce) {\r\n         getOnceUnfollowedTC()\r\n         setIsFetchingOnce(true)\r\n      }\r\n   }, [])\r\n   useEffect(() => {\r\n      if (isFetching) {\r\n         getUsersUnfollowedTC(count, page, false)\r\n      }\r\n   }, [isFetching])\r\n   useEffect(() => {\r\n      document.addEventListener('scroll', scrollHandler)\r\n      return () => {\r\n         document.removeEventListener('scroll', scrollHandler)\r\n      }\r\n   }, [])\r\n   const scrollHandler = (e: any): void => {\r\n      const [scrollHeight, scrollTop, innerHeight] = [e.target.documentElement.scrollHeight as number, e.target.documentElement.scrollTop as number, window.innerHeight as number]\r\n      if (scrollTop + 100 >= scrollHeight - innerHeight) {\r\n         isFetchingUsers(true)\r\n      }\r\n   }\r\n   return (\r\n      <>\r\n         {isFetchingOnce\r\n            ? <UsersAll isAuth={props.isAuth} followUserTC={props.followUserTC} usersUnfollowed={props.usersUnfollowed} readyToggle={props.readyToggle} />\r\n            : <div className={s.preloader__UsersAllContainerWrapper}>\r\n               <div className={s.preloader__UsersAllContainerBlock}>\r\n                  <Preloader />\r\n               </div>\r\n            </div >\r\n         }\r\n      </>\r\n   )\r\n}\r\nconst mapStateToProps = (state: AppReducerType): MapStateToPropsType => {\r\n   return {\r\n      usersUnfollowed: state.users.usersUnfollowed,\r\n      countUnfollowed: state.users.countUnfollowed,\r\n      pageUnfollowed: state.users.pageUnfollowed,\r\n      isFetching: state.users.isFetching,\r\n      readyToggle: state.users.readyToggle,\r\n      isAuth: state.auth.isAuth\r\n   }\r\n}\r\nconst mapDispatchToProps = (dispatch: any): MapDispatchToPropsType => {\r\n   return {\r\n      getUsersUnfollowedTC: (count: number, pageUnfollowed: number, follower: boolean): void => { dispatch(getUsersUnfollowedTC(count, pageUnfollowed, follower)) },\r\n      isFetchingUsers: (bool: boolean): void => { dispatch(isFetchingUsers(bool)) },\r\n      followUserTC: (userId: number): void => { dispatch(followUserTC(userId)) },\r\n      getOnceUnfollowedTC: (): void => { dispatch(getOnceUnfollowedTC()) }\r\n   }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserAllContainer)"],"sourceRoot":""}