{"version":3,"sources":["assets/images/userIcon.png","components/Users/Users.module.css","components/Common/Paginator/Paginator.module.css","components/Common/Paginator/Paginator.tsx","components/Users/Users.tsx","components/Users/UsersContainer.tsx"],"names":["module","exports","Paginator","totalCount","countFollowed","pageFollowed","onPageChange","pagesCount","Math","ceil","pages","i","push","portionsCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionNumber","filter","el","className","s","paginationClassic","paginationClassic__row","paginationClassic__buttonLeft","paginationClassic__buttonAble","icon","faChevronLeft","onClick","paginationClassic__buttonDisAble","paginationClassic__content","paginationClassic__buttonRight","faChevronRight","Users","isAuth","usersFollowed","readyToggle","unfollowUserTC","props","users","users__title","users__menu","menuUsers__row","menuUsers__title","menuUsers__button","to","users__request","map","user","followed","requestUsers__item","itemUsers__row","itemUsers__image","id","photos","small","src","userIcon","itemUsers__body","bodyUsers__name","name","bodyUsers__navigation","navigationUsers__row","navigationUsers__message","navigationUsers__subscribe","disabled","some","userId","e","faUserMinus","requestUsers__line","login__warning","connect","state","isReadyPage","auth","dispatch","getUsersFollowedTC","count","follower","useEffect","preloader__usersWrapper","preloader__usersBlock","PreloaderLine"],"mappings":"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","file":"static/js/4.31a2a319.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/userIcon.77e62bce.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__3owS2\",\"users__title\":\"Users_users__title__2D5iZ\",\"users__menu\":\"Users_users__menu__31-0O\",\"menuUsers__row\":\"Users_menuUsers__row__Ztvi7\",\"menuUsers__title\":\"Users_menuUsers__title__1Y3Ls\",\"menuUsers__button\":\"Users_menuUsers__button__1iPNP\",\"requestUsers__item\":\"Users_requestUsers__item__M6AX5\",\"itemUsers__row\":\"Users_itemUsers__row__20z76\",\"itemUsers__image\":\"Users_itemUsers__image__1hc5R\",\"itemUsers__body\":\"Users_itemUsers__body__3VY2f\",\"bodyUsers__name\":\"Users_bodyUsers__name__3Rgfu\",\"bodyUsers__navigation\":\"Users_bodyUsers__navigation__1cOv9\",\"navigationUsers__row\":\"Users_navigationUsers__row__3PUav\",\"navigationUsers__message\":\"Users_navigationUsers__message__3Sdb5\",\"navigationUsers__subscribe\":\"Users_navigationUsers__subscribe__YWG9u\",\"requestUsers__line\":\"Users_requestUsers__line__3jv6z\",\"login__warning\":\"Users_login__warning__hyNoA\",\"preloader__usersWrapper\":\"Users_preloader__usersWrapper__1nF3g\",\"preloader__usersBlock\":\"Users_preloader__usersBlock__1p_FH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginationClassic\":\"Paginator_paginationClassic__Y3x1U\",\"paginationClassic__buttonLeft\":\"Paginator_paginationClassic__buttonLeft__3ieFq\",\"paginationClassic__buttonAble\":\"Paginator_paginationClassic__buttonAble__2iL_1\",\"paginationClassic__buttonDisAble\":\"Paginator_paginationClassic__buttonDisAble__O9HZu\",\"paginationClassic__buttonRight\":\"Paginator_paginationClassic__buttonRight__LlYbg\",\"paginationClassic__content\":\"Paginator_paginationClassic__content__WTmMv\",\"paginationClassic__row\":\"Paginator_paginationClassic__row__UFxw_\"};","import React, { useState } from 'react'\r\nimport s from './Paginator.module.css'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faChevronLeft, faChevronRight } from '@fortawesome/free-solid-svg-icons'\r\ntype PropsType = {\r\n   totalCount: number | null,\r\n   countFollowed: number,\r\n   pageFollowed: number,\r\n   onPageChange: (pageFollowed: number) => void\r\n}\r\nconst Paginator: React.FC<PropsType> = ({ totalCount, countFollowed, pageFollowed, onPageChange }) => {\r\n   let pagesCount = Math.ceil(totalCount as number / countFollowed)\r\n   let pages: Array<number> = []\r\n   for (let i = 1; i <= pagesCount; i++) {\r\n      pages.push(i)\r\n   }\r\n   let portionSize = 1\r\n   let portionsCount = Math.ceil(pagesCount / portionSize)\r\n   let [portionNumber, setPortionNumber] = useState<number>(1)\r\n   let leftPortionPageNumber = ((portionNumber - 1) * portionSize) + 1\r\n   let rightPortionNumber = portionNumber * portionSize\r\n   pages = pages\r\n      .filter((el) => {\r\n         return el >= leftPortionPageNumber && el <= rightPortionNumber\r\n      })\r\n   return (\r\n      <div className={s.paginationClassic}>\r\n         <div className={s.paginationClassic__row}>\r\n            <div className={s.paginationClassic__buttonLeft}>\r\n               {portionNumber > 1\r\n                  ? <FontAwesomeIcon className={s.paginationClassic__buttonAble} icon={faChevronLeft} onClick={() => { setPortionNumber(portionNumber - 1); onPageChange(pageFollowed -= 1) }} />\r\n                  : <FontAwesomeIcon className={s.paginationClassic__buttonDisAble} icon={faChevronLeft} />\r\n               }\r\n            </div>\r\n            <div className={s.paginationClassic__content}>{pages}</div>\r\n            <div className={s.paginationClassic__buttonRight}>\r\n               {portionNumber < portionsCount\r\n                  ? <FontAwesomeIcon className={s.paginationClassic__buttonAble} icon={faChevronRight} onClick={() => { setPortionNumber(portionNumber + 1); onPageChange(pageFollowed += 1) }} />\r\n                  : <FontAwesomeIcon className={s.paginationClassic__buttonDisAble} icon={faChevronRight} />\r\n               }\r\n            </div>\r\n         </div>\r\n      </div >\r\n\r\n   )\r\n}\r\nexport default Paginator","import React from 'react'\r\nimport s from './Users.module.css'\r\nimport Paginator from '../Common/Paginator/Paginator'\r\nimport { NavLink } from 'react-router-dom'\r\nimport userIcon from '../../assets/images/userIcon.png'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faUserMinus } from '@fortawesome/free-solid-svg-icons'\r\nimport { UsersType } from '../../types/types'\r\n\r\ntype PropsType = {\r\n   isAuth: boolean,\r\n   usersFollowed: Array<UsersType>,\r\n   readyToggle: Array<number>,\r\n   totalCount: number | null,\r\n   countFollowed: number,\r\n   pageFollowed: number,\r\n   onPageChange: (pageFollowed: number) => void\r\n   unfollowUserTC: (userId: number) => void,\r\n}\r\nconst Users: React.FC<PropsType> = ({ isAuth, usersFollowed, readyToggle, unfollowUserTC, ...props }) => {\r\n   return (\r\n      <>\r\n         <div className={s.users}>\r\n            <div className={s.users__title}>\r\n               Users\r\n            </div>\r\n            <div className={s.users__menu}>\r\n               <div className={s.menuUsers__row}>\r\n                  <div className={s.menuUsers__title}>\r\n                     My requests\r\n                  </div>\r\n                  <NavLink className={s.menuUsers__button} to={'/users/all'}>Find more</NavLink>\r\n               </div>\r\n            </div>\r\n            {isAuth\r\n               ? < div className={s.users__request}>\r\n                  {usersFollowed.map((user) => {\r\n                     return (\r\n                        user.followed &&\r\n                        <div className={s.requestUsers__item} key={user.id}>\r\n                           <div className={s.itemUsers__row}>\r\n                              <NavLink className={s.itemUsers__image} to={`/profile/${user.id}`}>\r\n                                 {!user.photos.small\r\n                                    ? <img src={userIcon} />\r\n                                    : <img src={user.photos.small} />\r\n                                 }\r\n                              </NavLink>\r\n                              <div className={s.itemUsers__body}>\r\n                                 <NavLink className={s.bodyUsers__name} to={`/profile/${user.id}`}>{user.name}</NavLink>\r\n                                 <div className={s.bodyUsers__navigation}>\r\n                                    <div className={s.navigationUsers__row}>\r\n                                       <NavLink className={s.navigationUsers__message} to={'/messages'}>Write a message</NavLink>\r\n                                       <div className={s.navigationUsers__subscribe}>\r\n                                          <button disabled={readyToggle.some((userId) => userId === user.id)} onClick={(e) => { unfollowUserTC(user.id) }}><FontAwesomeIcon icon={faUserMinus} /></button>\r\n                                       </div>\r\n                                    </div>\r\n                                 </div>\r\n                              </div>\r\n                           </div>\r\n                           <div className={s.requestUsers__line}></div>\r\n                        </div>\r\n                     )\r\n                  })}\r\n                  <Paginator pageFollowed={props.pageFollowed} countFollowed={props.countFollowed} totalCount={props.totalCount} onPageChange={props.onPageChange} />\r\n               </div>\r\n               : <div className={s.login__warning}>\r\n                  To view this page, you need to go to the site.\r\n               </div>\r\n            }\r\n         </div>\r\n      </>\r\n   )\r\n}\r\nexport default Users\r\n","import React, { useEffect } from 'react'\r\nimport s from './Users.module.css'\r\nimport { connect } from 'react-redux'\r\nimport { AppReducerType } from '../../redux/store'\r\nimport { getUsersFollowedTC, unfollowUserTC } from '../../redux/users.reducer'\r\nimport { UsersType } from '../../types/types'\r\nimport PreloaderLine from '../Common/Preloader/PreloaderLine/PreloaderLine'\r\nimport Users from './Users'\r\n\r\ntype MapStateToPropsType = {\r\n   isAuth: boolean,\r\n   usersFollowed: Array<UsersType>,\r\n   readyToggle: Array<number>,\r\n   totalCount: number | null,\r\n   countFollowed: number,\r\n   pageFollowed: number,\r\n   isReadyPage: boolean,\r\n}\r\ntype MapDispatchToPropsType = {\r\n   unfollowUserTC: (userId: number) => void,\r\n   getUsersFollowedTC: (count: number, pageFollowed: number, boolean: boolean) => void\r\n}\r\ntype PropsType = MapStateToPropsType & MapDispatchToPropsType\r\n\r\nconst UsersContainer: React.FC<PropsType> = ({ countFollowed, isReadyPage, getUsersFollowedTC, ...props }) => {\r\n   useEffect(() => {\r\n      let [page, count] = [1, countFollowed]\r\n      getUsersFollowedTC(count, page, true)\r\n   }, [])\r\n   let onPageChange = (pageFollowed: number) => {\r\n      let count = countFollowed\r\n      getUsersFollowedTC(count, pageFollowed, true)\r\n   }\r\n   return (\r\n      <>\r\n         {isReadyPage\r\n            ? <Users isAuth={props.isAuth} pageFollowed={props.pageFollowed} usersFollowed={props.usersFollowed} countFollowed={countFollowed} totalCount={props.totalCount} onPageChange={onPageChange} unfollowUserTC={props.unfollowUserTC} readyToggle={props.readyToggle} />\r\n            : <div className={s.preloader__usersWrapper}>\r\n               <div className={s.preloader__usersBlock}>\r\n                  <PreloaderLine />\r\n               </div>\r\n            </div >\r\n         }\r\n      </>\r\n   )\r\n}\r\nconst mapStateToProps = (state: AppReducerType): MapStateToPropsType => {\r\n   return {\r\n      countFollowed: state.users.countFollowed,\r\n      pageFollowed: state.users.pageFollowed,\r\n      totalCount: state.users.totalCount,\r\n      usersFollowed: state.users.usersFollowed,\r\n      isReadyPage: state.users.isReadyPage,\r\n      readyToggle: state.users.readyToggle,\r\n      isAuth: state.auth.isAuth\r\n   }\r\n}\r\nconst mapDispatchToProps = (dispatch: any): MapDispatchToPropsType => {\r\n   return {\r\n      getUsersFollowedTC: (count: number, pageFollowed: number, follower: boolean) => { dispatch(getUsersFollowedTC(count, pageFollowed, follower)) },\r\n      unfollowUserTC: (userId: number) => { dispatch(unfollowUserTC(userId)) }\r\n   }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UsersContainer)"],"sourceRoot":""}